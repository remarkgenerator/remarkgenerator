<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶ì‡ßü‡¶æ‡¶∞‡¶ø‡¶∂ ‡¶∏‡¶®‡¶¶ ‡¶´‡¶∞‡ßç‡¶Æ</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f7f9fc;
        margin: 0;
        padding: 0;
    }
    .container {
        max-width: 800px;
        margin: 30px auto;
        background: #fff;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    h2 {
        text-align: center;
        color: #333;
    }
    label {
        font-weight: bold;
        margin-top: 15px;
        display: block;
        color: #444;
    }
    input, select, textarea {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 15px;
    }
    button {
        background: #4CAF50;
        color: white;
        padding: 12px;
        margin-top: 20px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        width: 100%;
    }
    button:hover {
        background: #45a049;
    }
    .success {
        text-align: center;
        color: green;
        font-weight: bold;
        margin-top: 20px;
    }
</style>
</head>
<body>

<div class="container">
    <h2>‡¶ì‡ßü‡¶æ‡¶∞‡¶ø‡¶∂ ‡¶∏‡¶®‡¶¶ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶´‡¶∞‡ßç‡¶Æ</h2>
    <form id="warishForm">
        <label>‡¶Æ‡ßÉ‡¶§ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
        <input type="text" name="mritoname" required>

        <label>‡¶Æ‡ßÉ‡¶§‡ßç‡¶Ø‡ßÅ‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</label>
        <input type="date" name="mritu_date" required>

        <label>‡¶ì‡ßü‡¶æ‡¶∞‡¶ø‡¶∂ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</label>
        <textarea name="warish_list" rows="4" placeholder="‡¶ì‡ßü‡¶æ‡¶∞‡¶ø‡¶∂‡¶¶‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" required></textarea>

        <label>‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
        <input type="text" name="contact_name" required>

        <label>‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞</label>
        <input type="tel" name="contact_number" required>

        <input type="hidden" name="serial_number" id="serial_number">

        <button type="submit">‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    </form>
    <div id="msg" class="success"></div>
</div>

<script>
// Serial Number Generate
document.getElementById("serial_number").value = "SN" + Date.now();

// Form Submission
document.getElementById("warishForm").addEventListener("submit", function(e){
    e.preventDefault();

    const form = e.target;
    const data = new FormData(form);

    // Apps Script URL
    const scriptURL = "https://script.google.com/macros/s/AKfycbycA3xZmPrAJ6FTWYwLtPWZFADjho099AvIZ3KLnumygXpRh6ZhxmjgN2dpHLcBxits/exec";

    fetch(scriptURL, { method: "POST", body: data })
    .then(res => {
        if(res.ok){
            sendToTelegram(data);
        } else {
            document.getElementById("msg").innerText = "‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá!";
        }
    })
    .catch(err => {
        document.getElementById("msg").innerText = "‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!";
        console.error(err);
    });
});

// Telegram Message Send
function sendToTelegram(data){
    const botToken = "YOUR_TELEGRAM_BOT_TOKEN"; // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ Bot Token ‡¶¨‡¶∏‡¶æ‡¶¨‡ßá
    const chatId = "@remarkgenerator"; // ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø

    let message = "üìú ‡¶®‡¶§‡ßÅ‡¶® ‡¶ì‡ßü‡¶æ‡¶∞‡¶ø‡¶∂ ‡¶∏‡¶®‡¶¶ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®:\n";
    message += "üîπ ‡¶Æ‡ßÉ‡¶§ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶®‡¶æ‡¶Æ: " + data.get("mritoname") + "\n";
    message += "üìÖ ‡¶Æ‡ßÉ‡¶§‡ßç‡¶Ø‡ßÅ‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: " + data.get("mritu_date") + "\n";
    message += "üë• ‡¶ì‡ßü‡¶æ‡¶∞‡¶ø‡¶∂ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ: " + data.get("warish_list") + "\n";
    message += "üìû ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó: " + data.get("contact_name") + " (" + data.get("contact_number") + ")\n";
    message += "üÜî ‡¶∏‡¶ø‡¶∞‡¶ø‡ßü‡¶æ‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: " + data.get("serial_number");

    fetch(https://api.telegram.org/bot${botToken}/sendMessage, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id: chatId, text: message })
    })
    .then(response => {
        if(response.ok){
            window.location.href = "https://remarkgenerator.github.io/remarkgenerator/";
        } else {
            document.getElementById("msg").innerText = "Telegram ‡¶è ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶• ‡¶π‡ßü‡ßá‡¶õ‡ßá!";
        }
    });
}
</script>

</body>
</html>
